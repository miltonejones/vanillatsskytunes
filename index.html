<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/skytunes.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Skytunes - Vanilla" />
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="/skytunes.png" />
    <link rel="icon" type="image/png" href="/skytunes.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#1976d2" />

    <title>Skytunes - VanillaTS version</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- In <head> section -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <img
            src="https://www.sky-tunes.com/assets/icon-72x72.png"
            class="rounded me-2"
            alt="..."
          />
          <strong class="me-auto toast-title">Bootstrap</strong>
          <small class="toast-caption">11 mins ago</small>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body">Hello, world! This is a toast message.</div>
      </div>
    </div>
    <div id="playlist">
      <!-- Playlist items will be populated dynamically -->
    </div>
    <div id="nav"></div>
    <div id="app"></div>
    <footer>Skytunes &copy; <div class="desktop">A VanillaTSweb application</div><div class="spacer"></div><div><i class="fa-brands fa-github"></i> Check out <a target="_blank" href="https://github.dev/miltonejones/vanillatsskytunes">the repo</a> <i class="fa-solid fa-arrow-up-right-from-square"></i></div></footer>

    <!-- audio-player.html -->
    <div class="audio-player-container" style="display: none">
      <div class="audio-player bg-white border-t border-gray-200 p-4 shadow-lg">
        <!-- Hidden audio element will be managed by the class -->
        <div class="audio-outer">
          <!-- Song Info Section -->
          <div class="audio-label">
            <div class="horiz-card">
              <img
                id="current-song-artwork"
                src=""
                alt="Album Art"
                class="horiz-card-img"
              />
              <div class="horiz-card-content">
                <div id="current-song-title" class="horiz-card-title">
                  No song selected
                </div>
                <div id="current-song-artist" class="horiz-card-caption">
                  Select a song to play
                </div>
                <div
                  id="current-song-album"
                  class="horiz-card-subcaption"
                ></div>
              </div>
            </div>
          </div>

          <!-- Controls Section -->
          <div class="audio-controls">
            <div class="audio-buttons">
              <button id="prev-btn" class="audio-btn" title="Previous">
                <i class="fas fa-step-backward"></i>
              </button>
              <button
                id="play-pause-btn"
                class="play-pause-btn"
                title="Play/Pause"
              >
                <i class="fas fa-play"></i>
              </button>
              <button id="next-btn" class="audio-btn" title="Next">
                <i class="fas fa-step-forward"></i>
              </button>
            </div>

            <!-- Progress Bar -->
            <div class="progress-container">
              <span id="current-time" class="time-display">0:00</span>
              <div class="progress-bar-container">
                <input
                  type="range"
                  id="progress-bar"
                  min="0"
                  max="100"
                  value="0"
                  class="progress-bar"
                />
              </div>
              <span id="duration" class="time-display">0:00</span>
            </div>
          </div>

          <!-- Panel Controls -->
          <div class="panel-controls">
            <button id="playlist-btn" class="panel-btn" title="Playlist">
              <i class="fas fa-list"></i>
            </button>
            <button id="stop-btn" class="panel-btn stop-btn" title="Stop">
              <i class="fas fa-stop"></i>
            </button>
            <span
              class="spinner-border stop hide spinner-border-sm m-2"
              role="status"
            ></span>
          </div>
        </div>
        <!-- Add this inside your audio-player-container, after the audio-outer div -->
        <div class="expanded-view">
          <button class="close-expanded" id="close-expanded" title="Close">
            <i class="fas fa-chevron-down"></i>
          </button>

          <img
            id="expanded-album-art"
            src=""
            alt="Album Art"
            class="expanded-album-art"
          />

          <div class="expanded-song-info">
            <div id="expanded-song-title" class="expanded-song-title">
              No song selected
            </div>
            <div id="expanded-song-artist" class="expanded-song-artist">
              Select a song to play
            </div>
          </div>

          <div class="expanded-controls">
            <div class="expanded-progress">
              <div class="progress-container">
                <span id="expanded-current-time" class="time-display"
                  >0:00</span
                >
                <div class="progress-bar-container">
                  <input
                    type="range"
                    id="expanded-progress-bar"
                    min="0"
                    max="100"
                    value="0"
                    class="progress-bar"
                  />
                </div>
                <span id="expanded-duration" class="time-display">0:00</span>
              </div>
            </div>

            <div class="expanded-buttons">
              <button
                id="expanded-prev-btn"
                class="expanded-btn"
                title="Previous"
              >
                <i class="fas fa-step-backward"></i>
              </button>
              <button
                id="expanded-play-pause-btn"
                class="expanded-btn expanded-play-pause"
                title="Play/Pause"
              >
                <i class="fas fa-play"></i>
              </button>
              <button id="expanded-next-btn" class="expanded-btn" title="Next">
                <i class="fas fa-step-forward"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Add the mobile minimal view -->
        <div class="mobile-minimal">
          <div class="mobile-minimal-info">
            <img
              id="mobile-song-artwork"
              src=""
              alt="Album Art"
              class="mobile-minimal-img"
            />
            <div class="mobile-minimal-text">
              <div id="mobile-song-title" class="mobile-minimal-title">
                No song selected
              </div>
              <div id="mobile-song-artist" class="mobile-minimal-artist">
                Select a song to play
              </div>
            </div>
          </div>

          <div class="mobile-minimal-controls">
            <button
              id="mobile-play-btn"
              class="mobile-play-btn"
              title="Play/Pause"
            >
              <i class="fas fa-play"></i>
            </button>
            <button id="stop-btn" class="panel-btn stop-btn" title="Stop">
              <i class="fas fa-stop"></i>
            </button>
            <span
              class="spinner-border stop hide spinner-border-sm m-2"
              role="status"
            ></span>
            <button id="mobile-playlist-btn" class="panel-btn" title="Playlist">
              <i class="fas fa-list"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Playlist Drawer -->

      <!-- <div id="playlist-drawer" class="drawer">
        <div class="drawer-content">
          <div class="drawer-header">
            <h3>Playlist</h3>
            <button id="close-drawer" class="close-btn">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <ul id="playlist" class="playlist"> 
          </ul>
        </div>
      </div>
      <div id="drawer-overlay" class="drawer-overlay"></div>
    </div> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
